{% extends 'index.html'%}
{% block content %}
{% load tag %}
    <script src="https://cdn.zingchart.com/zingchart.min.js"></script>
    <section id="userinfo">
    <div class = "container">
    <div class = "row">
    <div class = 'col-md-4'>
    {% if status %}
        <img src="{{ userinfo_list.avatar }}" height="230px" width="230px">
        <p>{{ userinfo_list.handle }}</p>
        <ul>
        {% if userinfo_list.firstName%}
            <li><h6>FirstName : {{ userinfo_list.firstName }}</h6></li>
        {%endif%}
        {% if userinfo_list.organization%}
            <li><h6>Organisation : {{ userinfo_list.organization }}</h6></li>
        {%endif%}
        {% if userinfo_list.rating%}
            <li><h6>Rating : {{ userinfo_list.rating }}</h6></li>
        {%endif%}
        {% if userinfo_list.rank%}
            <li><h6>Rank : {{ userinfo_list.rank }}</h6></li>
        {%endif%}
        {% if userinfo_list.maxRating%}
            <li><h6>MaxRating : {{ userinfo_list.maxRating }}</h6></li>
        {%endif%}
        {% if userinfo_list.maxRank%}
            <li><h6>MaxRank : {{ userinfo_list.maxRank }}</h6></li>
        {%endif%}
        {% if userinfo_list.friendOfCount%}
            <li><h6>Friends : {{ userinfo_list.friendOfCount }}</h6></li>
        {%endif%}
        </ul>
    {% else %}
        <h4>User Not Found</h4>
    {% endif %}
    </div>
    <div class = 'col-md-8'>
    <div id ="myChart">
    <script>
        var SubmissionData = {
            type : "pie",
            legend: {

            },
            plot: {
                tooltip: {
                text: "%t<br>%v"
                }
            },
            title : {
            text : "Submissions"
            },
            series: [
                    {% for tag in tagcount %}
                    {% get_count tagcount tag as lol %}
                    { values: {{lol}}, text : "{{tag}}"} {% if not forloop.last %},{% endif %}
                    {% endfor %}
            ]

        }

        zingchart.render({
            id: 'myChart',
            data: SubmissionData,
        });
    </script>
    </div>
    
    
    <div id="myChart1">
    <script>
        var LangData = {
            type : "pie",
            legend: {

            },
            plot: {
                tooltip: {
                text: "%t<br>%v"
                }
            },
            title : {
            text : "Languages"
            },
            series: [
                    {% for l in langcount %}
                    {% get_count langcount l as lil %}
                    { values: {{lil}}, text : "{{l}}"} {% if not forloop.last %},{% endif %}
                    {% endfor %}
            ]

        }

        zingchart.render({
            id: 'myChart1',
            data: LangData,
        });
        </script>
    </div>
    
    </div>
    
    </div>
    </div>
    </section>
{% endblock %}